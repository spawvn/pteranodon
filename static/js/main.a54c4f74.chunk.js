(this.webpackJsonppteranodon=this.webpackJsonppteranodon||[]).push([[0],{13:function(e,t,a){e.exports=a(23)},18:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),i=a.n(o),c=(a(18),a(3)),s=a(1),m=a.n(s),u=a(7),l=a(8),h=a(9),d=a(12),p=a(11),f=a(10),y=a.n(f),v=(a(20),a(2));a(22);var w=function(e){var t=e.data,a=e.name,n=void 0===a?"":a,o=Object(v.get)(t,"DailyForecasts[0].Temperature.Minimum.Value",0),i=Object(v.get)(t,"DailyForecasts[0].Temperature.Maximum.Value",0),c=Math.abs(o)>Math.abs(i)?o:i,s=c<0,m={opacity:(100*Math.abs(c)/40/100).toFixed(2)};return r.a.createElement("div",{className:"city-weather"},r.a.createElement("div",{className:"weather-backdrop gamma-".concat(s?"cold":"hot"),style:m}),r.a.createElement("div",{className:"weather-backdrop flipped gamma-".concat(s?"cold":"hot"),style:m}),t&&r.a.createElement("section",{className:"weather-content"},r.a.createElement("div",{className:"city-name"},n),r.a.createElement("div",{className:"city-temperature"},c,"\xb0"),r.a.createElement("div",{className:"city-forecast"},t.Headline.Text)))},M={187423:{Headline:{Text:"Thunderstorms in the area late Monday morning through Monday afternoon"},DailyForecasts:[{Temperature:{Minimum:{Value:21.2},Maximum:{Value:24.9}}}]},249758:{Headline:{Text:"The heat wave will continue through Monday"},DailyForecasts:[{Temperature:{Minimum:{Value:33.6},Maximum:{Value:42.4}}}]},308526:{Headline:{Text:"Very warm from Friday to Saturday"},DailyForecasts:[{Temperature:{Minimum:{Value:21.2},Maximum:{Value:31.9}}}]}},g={187423:{Headline:{Text:"Snowstorms in the area"},DailyForecasts:[{Temperature:{Minimum:{Value:-21.2},Maximum:{Value:-21.9}}}]},249758:{Headline:{Text:"Danger of frostbite, with a chance of blizzard. Consider to stay home near the fireplace."},DailyForecasts:[{Temperature:{Minimum:{Value:-33.6},Maximum:{Value:-42.4}}}]},308526:{Headline:{Text:"Mostly sunny and moderately chilly"},DailyForecasts:[{Temperature:{Minimum:{Value:-11.2},Maximum:{Value:-16.9}}}]}},D=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).statics={weatherEndpoint:"http://dataservice.accuweather.com/forecasts/v1/daily/1day/",weatherParams:{apikey:"aGrPwpwrDSfTi0dL9yrpLhcSQ6eOLQIi",metric:!0}},e.getForecasts=function(){var t=Object(u.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isWeatherLoading:!0,weatherData:{}}),n=a.map((function(t){var a=t.id;return e.getCityForecast(a)})),t.next=4,Promise.all(n).then((function(){e.setState({isWeatherLoading:!1})})).catch((function(e){console.error("Request failed",e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={userName:"Jamie",cities:[{name:"Amsterdam",id:249758},{name:"Madrid",id:308526},{name:"Budapest",id:187423}],isWeatherLoading:!1,weatherData:{},demoMode:!1},e}return Object(h.a)(a,[{key:"getCityForecast",value:function(e){var t=this,a=this.statics,n=a.weatherEndpoint,r=a.weatherParams,o=localStorage.getItem("weather_".concat(e));if(null!==o){var i=JSON.parse(o);return this.setState((function(){return{weatherData:i}})),i}return fetch("".concat(n).concat(e,"?").concat(new URLSearchParams(r)),{method:"GET"}).then((function(e){return e.json()})).then((function(a){t.setCityForecast(e,a)}))}},{key:"setCityForecast",value:function(e,t){var a=this.state.weatherData;a[e]=Object(c.a)(Object(c.a)({},t),{},{TimeStamp:y()()}),this.setState((function(){return{weatherData:a}})),localStorage.setItem("weather_".concat(e),JSON.stringify(a))}},{key:"getWeatherData",value:function(){return"hot"===this.state.demoMode?M:"cold"===this.state.demoMode?g:this.state.weatherData}},{key:"setDemo",value:function(e){this.setState({demoMode:e})}},{key:"componentDidMount",value:function(){var e=this.state.cities;this.getForecasts(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.userName,n=t.cities,o=this.getWeatherData();return r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"app-header"},r.a.createElement("p",null,"Hello, ",r.a.createElement("span",{className:"username"},a),".",r.a.createElement("br",null),"Here's what mother nature has got for us:")),r.a.createElement("section",{className:"app-body"},n.map((function(e){var t=e.name,a=e.id;return r.a.createElement(w,{key:a,name:t,data:o[a]})}))),r.a.createElement("section",{className:"app-footer"},r.a.createElement("button",{onClick:function(){return e.setDemo("hot")}},"Demo hot"),"\xa0",r.a.createElement("button",{onClick:function(){return e.setDemo("cold")}},"Demo cold"),"\xa0",r.a.createElement("button",{onClick:function(){return e.setDemo(!1)}},"Demo off")))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.a54c4f74.chunk.js.map